<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js coal">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Socks5 - Nym Docs</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="Nym technical documentation">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/pagetoc.css">
        <link rel="stylesheet" href="../././mdbook-admonish.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "coal" : "coal";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('coal')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="../introduction.html">Introduction</a></li><li class="chapter-item affix "><li class="part-title">Architecture</li><li class="chapter-item "><a href="../architecture/network-overview.html"><strong aria-hidden="true">1.</strong> Network Overview</a></li><li class="chapter-item "><a href="../architecture/traffic-flow.html"><strong aria-hidden="true">2.</strong> Mixnet Traffic Flow</a></li><li class="chapter-item "><a href="../architecture/network-rewards.html"><strong aria-hidden="true">3.</strong> Network Rewards</a></li><li class="chapter-item affix "><li class="part-title">Binaries</li><li class="chapter-item "><a href="../binaries/pre-built-binaries.html"><strong aria-hidden="true">4.</strong> Pre-built Binaries</a></li><li class="chapter-item "><a href="../binaries/building-nym.html"><strong aria-hidden="true">5.</strong> Building from Source</a></li><li class="chapter-item "><a href="../binaries/init-and-config.html"><strong aria-hidden="true">6.</strong> Binary Initialisation and Configuration</a></li><li class="chapter-item "><a href="../binaries/version-compatiblity.html"><strong aria-hidden="true">7.</strong> Version Compatibility Table</a></li><li class="chapter-item affix "><li class="part-title">Nodes</li><li class="chapter-item "><a href="../nodes/setup-guides.html"><strong aria-hidden="true">8.</strong> Node Setup Guides</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../nodes/mix-node-setup.html"><strong aria-hidden="true">8.1.</strong> Mix Node</a></li><li class="chapter-item "><a href="../nodes/gateway-setup.html"><strong aria-hidden="true">8.2.</strong> Gateway</a></li><li class="chapter-item "><a href="../nodes/network-requester-setup.html"><strong aria-hidden="true">8.3.</strong> Network Requester</a></li><li class="chapter-item "><a href="../nodes/validator-setup.html"><strong aria-hidden="true">8.4.</strong> Validator</a></li></ol></li><li class="chapter-item "><a href="../nodes/troubleshooting.html"><strong aria-hidden="true">9.</strong> Troubleshooting</a></li><li class="chapter-item affix "><li class="part-title">Clients</li><li class="chapter-item expanded "><a href="../clients/overview.html"><strong aria-hidden="true">10.</strong> Clients Overview</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../clients/websocket-client.html"><strong aria-hidden="true">10.1.</strong> Websocket</a></li><li class="chapter-item expanded "><a href="../clients/socks5-client.html" class="active"><strong aria-hidden="true">10.2.</strong> Socks5</a></li><li class="chapter-item "><a href="../clients/webassembly-client.html"><strong aria-hidden="true">10.3.</strong> Webassembly</a></li></ol></li><li class="chapter-item "><a href="../clients/addressing-system.html"><strong aria-hidden="true">11.</strong> Addressing System</a></li><li class="chapter-item affix "><li class="part-title">SDK</li><li class="chapter-item "><a href="../sdk/typescript.html"><strong aria-hidden="true">12.</strong> Typescript SDK</a></li><li class="chapter-item "><a href="../sdk/rust.html"><strong aria-hidden="true">13.</strong> Rust SDK (coming soon)</a></li><li class="chapter-item affix "><li class="part-title">Wallet</li><li class="chapter-item "><a href="../wallet/desktop-wallet.html"><strong aria-hidden="true">14.</strong> Desktop Wallet</a></li><li class="chapter-item "><a href="../wallet/cli-wallet.html"><strong aria-hidden="true">15.</strong> CLI Wallet</a></li><li class="chapter-item affix "><li class="part-title">Explorers</li><li class="chapter-item "><a href="../explorers/mixnet-explorer.html"><strong aria-hidden="true">16.</strong> Mixnet Explorer</a></li><li class="chapter-item "><div><strong aria-hidden="true">17.</strong> Blockchain Explorers</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div><strong aria-hidden="true">17.1.</strong> Nodes Guru</div></li><li class="chapter-item "><div><strong aria-hidden="true">17.2.</strong> TODO Others</div></li></ol></li><li class="chapter-item "><li class="part-title">Nyx Blockchain</li><li class="chapter-item "><a href="../nyx/interacting-with-chain.html"><strong aria-hidden="true">18.</strong> Interacting with Nyx Chain and Smart Contracts</a></li><li class="chapter-item "><a href="../nyx/smart-contracts.html"><strong aria-hidden="true">19.</strong> Smart Contracts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../nyx/mixnet-contract.html"><strong aria-hidden="true">19.1.</strong> Mixnet Contract</a></li><li class="chapter-item "><a href="../nyx/vesting-contract.html"><strong aria-hidden="true">19.2.</strong> Vesting Contract</a></li></ol></li><li class="chapter-item "><a href="../nyx/rpc-node.html"><strong aria-hidden="true">20.</strong> RPC Nodes</a></li><li class="chapter-item affix "><li class="part-title">Tools</li><li class="chapter-item "><a href="../tools/nym-cli.html"><strong aria-hidden="true">21.</strong> NymCLI</a></li><li class="spacer"></li><li class="chapter-item affix "><li class="part-title">Misc.</li><li class="chapter-item "><a href="../coc.html"><strong aria-hidden="true">22.</strong> Code of Conduct</a></li><li class="chapter-item "><a href="../licensing.html"><strong aria-hidden="true">23.</strong> Licensing</a></li><li class="spacer"></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Nym Docs</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main><div class="sidetoc"><nav class="pagetoc"></nav></div>
                        <h1 id="socks5-client"><a class="header" href="#socks5-client">Socks5 Client</a></h1>
<blockquote>
<p>The Nym socks5 client was built in the <a href="/docs/next/run-nym-nodes/build-nym/">building nym</a> section. If you haven’t yet built Nym and want to run the code on this page, go there first.</p>
</blockquote>
<p>Many existing applications are able to use either the SOCKS4, SOCKS4A, or SOCKS5 proxy protocols. If you want to send such an application’s traffic through the mixnet, you can use the <code>nym-socks5-client</code> to bounce network traffic through the Nym network, like this:</p>
<p>&lt;ThemedImage
alt=“Overview diagram of the Nym network”
sources={{
light: useBaseUrl(‘/img/docs/nym-socks5-architecture.png’),
dark: useBaseUrl(‘/img/docs/nym-socks5-architecture-dark.png’),
}}
/&gt;</p>
<p>There are 2 pieces of software that work together to send SOCKS traffic through the mixnet: the <code>nym-socks5-client</code>, and the <code>nym-network-requester</code>. </p>
<p>The <code>nym-socks5-client</code> allows you to do the following from your local machine:</p>
<ul>
<li>Take a TCP data stream from a application that can send traffic via SOCKS5. </li>
<li>Chop up the TCP stream into multiple Sphinx packets, assigning sequence numbers to them, while leaving the TCP connection open for more data</li>
<li>Send the Sphinx packets through the mixnet to a <a href="/docs/next/run-nym-nodes/nodes/requester">Nym Network Requester</a>. Packets are shuffled and mixed as they transit the mixnet.</li>
</ul>
<p>The <code>nym-network-requester</code> then reassembles the original TCP stream using the packets’ sequence numbers, and make the intended request. It will then chop up the response into Sphinx packets and send them back through the mixnet to your  <code>nym-socks5-client</code>. The application will then receive its data, without even noticing that it wasn’t talking to a “normal” SOCKS5 proxy!</p>
<h2 id="client-setup"><a class="header" href="#client-setup">Client setup</a></h2>
<h3 id="viewing-command-help"><a class="header" href="#viewing-command-help">Viewing command help</a></h3>
<p>You can check that your binaries are properly compiled with:</p>
<pre><code>./nym-socks5-client --help
</code></pre>
<details id="admonition-console-output" class="admonition example">
<summary class="admonition-title">
<p>Console output</p>
<p><a class="admonition-anchor-link" href="#admonition-console-output"></a></p>
</summary>
<div>
<hr />
<pre><code>    | '_ \| | | | '_ \ _ \
    | | | | |_| | | | | | |
    |_| |_|\__, |_| |_| |_|
            |___/

            (socks5 proxy - version 1.1.4)


    nym-socks5-client 1.1.4
    Nymtech
    A SOCKS5 localhost proxy that converts incoming messages to Sphinx and sends them to a Nym address

    USAGE:
    nym-socks5-client [OPTIONS] &lt;SUBCOMMAND&gt;

    OPTIONS:
            --config-env-file &lt;CONFIG_ENV_FILE&gt;
            Path pointing to an env file that configures the client

    -h, --help
            Print help information

    -V, --version
            Print version information

    SUBCOMMANDS:
    completions          Generate shell completions
    generate-fig-spec    Generate Fig specification
    help                 Print this message or the help of the given subcommand(s)
    init                 Initialise a Nym client. Do this first!
    run                  Run the Nym client with provided configuration client optionally
                            overriding set parameters
    upgrade              Try to upgrade the client
</code></pre>
</div>
</details>
<p>You can check the necessary parameters for the available commands by running:</p>
<pre><code>./nym-client &lt;command&gt; --help 
</code></pre>
<h3 id="initialising-a-new-client-instance"><a class="header" href="#initialising-a-new-client-instance">Initialising a new client instance</a></h3>
<p>Before you can use the client, you need to initalise a new instance of it, which can be done with the following command:</p>
<pre><code>./nym-socks5-client init --id &lt;id&gt; --provider &lt;provider&gt;
</code></pre>
<p>The <code>--id</code> in the example above is a local identifier so that you can name your clients; it is <strong>never</strong> transmitted over the network.</p>
<p>The <code>--provider</code> field needs to be filled with the Nym address of a Network Requester that can make network requests on your behalf. If you can’t find one from the community, you’ll have to <a href="/docs/next/run-nym-nodes/nodes/requester">run your own</a>. A nicer way of discovering public Service Providers is incoming, but at the moment just ask around in community channels and someone will give you an address to use. </p>
<div id="admonition-caution" class="admonition warning">
<div class="admonition-title">
<p>Caution</p>
<p><a class="admonition-anchor-link" href="#admonition-caution"></a></p>
</div>
<div>
<p>Please note that the <code>nym-socks5-client</code> currently <strong>does not</strong> have <a href="/docs/next/architecture/traffic-flow#private-replies-using-surbs">multiSURBs</a> enabled by default to allow for a non-breaking network update, allowing network requesters to update to <code>v1.1.4</code>. This should be enabled in the next release once requesters have had time to update without interrupting network services. </p>
<p>If you <strong>know</strong> that your client is communicating with a network requester which is &gt;= <code>v1.1.4</code> then <code>init</code> your <code>nym-socks5-client</code> binary with the <code>--use-anonymous-sender-tag</code> flag like so: </p>
<pre><code>./nym-socks5-client init --id &lt;id&gt; --provider &lt;provider&gt; --use-anonymous-sender-tag
</code></pre>
</div>
</div>
<h3 id="running-the-socks5-client"><a class="header" href="#running-the-socks5-client">Running the socks5 client</a></h3>
<p>You can run the initalised client by doing this:</p>
<pre><code>./nym-socks5-client run --id &lt;id&gt;
</code></pre>
<details id="admonition-console-output-1" class="admonition example">
<summary class="admonition-title">
<p>Console output</p>
<p><a class="admonition-anchor-link" href="#admonition-console-output-1"></a></p>
</summary>
<div>
<pre><code>2022-04-27T16:15:45.843Z INFO  nym_socks5_client::client &gt; Starting nym client
2022-04-27T16:15:45.889Z INFO  nym_socks5_client::client &gt; Obtaining initial network topology
2022-04-27T16:15:51.470Z INFO  nym_socks5_client::client &gt; Starting topology refresher...
2022-04-27T16:15:51.470Z INFO  nym_socks5_client::client &gt; Starting received messages buffer controller...
2022-04-27T16:15:51.648Z INFO  gateway_client::client    &gt; Claiming more bandwidth for your tokens. This will use 1 token(s) from your wallet. Stop the process now if you don't want that to happen.
2022-04-27T16:15:51.648Z WARN  gateway_client::client    &gt; Not enough bandwidth. Trying to get more bandwidth, this might take a while
2022-04-27T16:15:51.648Z INFO  gateway_client::client    &gt; The client is running in disabled credentials mode - attempting to claim bandwidth without a credential
2022-04-27T16:15:51.706Z INFO  nym_socks5_client::client &gt; Starting mix traffic controller...
2022-04-27T16:15:51.706Z INFO  nym_socks5_client::client &gt; Starting real traffic stream...
2022-04-27T16:15:51.706Z INFO  nym_socks5_client::client &gt; Starting loop cover traffic stream...
2022-04-27T16:15:51.707Z INFO  nym_socks5_client::client &gt; Starting socks5 listener...
2022-04-27T16:15:51.707Z INFO  nym_socks5_client::socks::server &gt; Listening on 127.0.0.1:1080
2022-04-27T16:15:51.707Z INFO  nym_socks5_client::client&gt; Client startup finished!
2022-04-27T16:15:51.707Z INFO  nym_socks5_client::client&gt; The address of this client is: BFKhbyNsSVwbsGSLwHDkfwH5mwZqZYpnpNjjV7Xo25Xc.EFWd1geWspzyVeinwXrY5fCBMRtAKV1QmK1CNFhAA8VG@BNjYZPxzcJwczXHHgBxCAyVJKxN6LPteDRrKapxWmexv
2022-04-27T16:15:51.707Z INFO  nym_socks5_client::socks::server &gt; Serving Connections...
</code></pre>
</div>
</details>
<h2 id="using-your-socks5-client"><a class="header" href="#using-your-socks5-client">Using your Socks5 Client</a></h2>
<p>After completing the steps above, your local Socks5 Client will be listening on <code>localhost:1080</code> ready to proxy traffic to the Network Requester set as the <code>--provider</code> when initialising. </p>
<p>When trying to connect your app, generally the proxy settings are found in <code>settings-&gt;advanced</code> or <code>settings-&gt;connection</code>. </p>
<p>Here is an example of setting the proxy connecting in Blockstream Green:</p>
<p><img src="/img/docs/wallet-proxy-settings/blockstream-green.gif" alt="Blockstream Green settings" /></p>
<p>Most wallets and other applications will work basically the same way: find the network proxy settings, enter the proxy url (host: <strong>localhost</strong>, port: <strong>1080</strong>).</p>
<p>In some other applications, this might be written as <strong>localhost:1080</strong> if there’s only one proxy entry field.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../clients/websocket-client.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../clients/webassembly-client.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../clients/websocket-client.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../clients/webassembly-client.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../theme/pagetoc.js"></script>


    </body>
</html>
